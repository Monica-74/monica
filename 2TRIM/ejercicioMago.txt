import java.util.Random;

public abstract class Personaje {
    protected String nombre;
    public int nivel;
    private int vida;
    private int[] estadisticas;

    public Personaje(String nombre, int nivel) {
        this.nombre = nombre;
        setNivel(nivel);
        this.vida = 100;
        this.estadisticas = new int[]{10, 10, 10};
    }

    public abstract void subirDeNivel();

    public String getNombre() {
        return nombre;
    }

    public void setNombre(String nombre) {
        this.nombre = nombre;
    }

    public int getNivel() {
        return nivel;
    }

    public void setNivel(int nivel) {
        if (nivel >= 1 && nivel <= 99) {
            this.nivel = nivel;
        } else {
            throw new IllegalArgumentException("El nivel debe estar comprendido entre 1 y 99.");
        }
    }

    public int getVida() {
        return vida;
    }

    public void setVida(int vida) {
        if (vida >= 0) {
            this.vida = vida;
        } else {
            throw new IllegalArgumentException("La vida no puede ser un valor negativo.");
        }
    }

    public int[] getEstadisticas() {
        return estadisticas;
    }

    public void setEstadisticas(int[] estadisticas) {
        this.estadisticas = estadisticas;
    }

    public void imprimirInformacion() {
        System.out.println("Nombre: " + nombre);
        System.out.println("Nivel: " + nivel);
        System.out.println("Vida: " + vida);
        System.out.println("Estadísticas: ");
        System.out.println("Fuerza: " + estadisticas[0]);
        System.out.println("Defensa: " + estadisticas[1]);
        System.out.println("Magia: " + estadisticas[2]);
    }
}

public class Guerrero extends Personaje {
    public Guerrero(String nombre, int nivel) {
        super(nombre, nivel);
        setVida(getVida() + 30);
        setEstadisticas(new int[]{getEstadisticas()[0] + 3, getEstadisticas()[1] + 2, getEstadisticas()[2] - 3});
    }

    @Override
    public void subirDeNivel() {
        Random random = new Random();
        int vidaSubida = random.nextInt(21) + 20;
        int fuerzaSubida = random.nextInt(3) + 1;
        int defensaSubida = random.nextInt(2) + 1;
        int magiaSubida = random.nextInt(2);
        
        setVida(getVida() + vidaSubida);
        setEstadisticas(new int[]{getEstadisticas()[0] + fuerzaSubida, getEstadisticas()[1] + defensaSubida, getEstadisticas()[2] - magiaSubida});
        
        System.out.println("¡El guerrero " + getNombre() + " ha subido de nivel!");
        System.out.println("Vida subida: " + vidaSubida);
        System.out.println("Fuerza subida: " + fuerzaSubida);
        System.out.println("Defensa subida: " + defensaSubida);
        System.out.println("Magia subida: " + magiaSubida);
    }
}

public class Mago extends Personaje {
    public Mago(String nombre, int nivel) {
        super(nombre, nivel);
        setVida(getVida() + 20);
        setEstadisticas(new int[]{getEstadisticas()[0] - 3, getEstadisticas()[1] + 1, getEstadisticas()[2] + 4});
    }

    @Override
    public void subirDeNivel() {
        Random random = new Random();
        int vidaSubida = random.nextInt(21) + 10;
        int fuerzaSubida = random.nextInt(2);
        int defensaSubida = random.nextInt(2);
        int magiaSubida = random.nextInt(5) + 2;
        
        setVida(getVida() + vidaSubida);
        setEstadisticas(new int[]{getEstadisticas()[0] - fuerzaSubida, getEstadisticas()[1] + defensaSubida, getEstadisticas()[2] + magiaSubida});
        
        System.out.println("¡El mago " + getNombre() + " ha subido de nivel!");
        System.out.println("Vida subida: " + vidaSubida);
        System.out.println("Fuerza subida: " + fuerzaSubida);
        System.out.println("Defensa subida: " + defensaSubida);
        System.out.println("Magia subida: " + magiaSubida);
    }
}

public class Defensor extends Personaje {
    public Defensor(String nombre, int nivel) {
        super(nombre, nivel);
        setVida(getVida() + 50);
        setEstadisticas(new int[]{getEstadisticas()[0] + 1, getEstadisticas()[1] + 4, getEstadisticas()[2] - 3});
    }

    @Override
    public void subirDeNivel() {
        Random random = new Random();
        int vidaSubida = random.nextInt(21) + 40;
        int fuerzaSubida = random.nextInt(3) + 1;
        int defensaSubida = random.nextInt(3) + 2;
        int magiaSubida = random.nextInt(2);
        
        setVida(getVida() + vidaSubida);
        setEstadisticas(new int[]{getEstadisticas()[0] + fuerzaSubida, getEstadisticas()[1] + defensaSubida, getEstadisticas()[2] - magiaSubida});
        
        System.out.println("¡El defensor " + getNombre() + " ha subido de nivel!");
        System.out.println("Vida subida: " + vidaSubida);
        System.out.println("Fuerza subida: " + fuerzaSubida);
        System.out.println("Defensa subida: " + defensaSubida);
        System.out.println("Magia subida: " + magiaSubida);
    }
}
